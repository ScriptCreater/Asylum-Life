local ScreenGui   = Instance.new("ScreenGui")
local Frame       = Instance.new("Frame")
local M4A1PC      = Instance.new("TextButton") 
local InmateEsp   = Instance.new("TextButton")
local CloseGui    = Instance.new("TextButton")
local MinimizeGui = Instance.new("TextButton")
local TitlePanel  = Instance.new("Frame")
local TitleLabel  = Instance.new("TextLabel")
local Tab1Button     = Instance.new("TextButton")
local Tab2Button    = Instance.new("TextButton")
local m9Mobile    = Instance.new("TextButton")
local LockOn      = Instance.new("TextButton")
local Tab1Frame   = Instance.new("Frame")
local Tab2Frame   = Instance.new("Frame")
local isMinimized = false

-- ScreenGui
ScreenGui.Parent = game.CoreGui

-- Frame Setup
Frame.Parent           = ScreenGui
Frame.Size             = UDim2.new(0, 400, 0, 300)
Frame.Position         = UDim2.new(0.5, -150, 0.5, -100)
Frame.BackgroundColor3 = Color3.fromRGB(13, 13, 13)
Frame.BorderSizePixel  = 0
Frame.Active           = true
Frame.Draggable        = true -- Re-enable draggable functionality

-- Title Panel for the Title Label
TitlePanel.Parent           = Frame
TitlePanel.Size             = UDim2.new(0, Frame.Size.X.Offset, 0, 40)
TitlePanel.Position         = UDim2.new(0, 0, 0, 0)
TitlePanel.BackgroundColor3 = Color3.fromRGB(13, 13, 13)
TitlePanel.BorderSizePixel  = 0

-- Title Label
TitleLabel.Parent           = TitlePanel
TitleLabel.Position         = UDim2.new(0, 0, 0, 0)
TitleLabel.Size             = UDim2.new(0, 400, 0, 25)
TitleLabel.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
TitleLabel.Text             = "Sword Ninja Asylum Life Script"
TitleLabel.TextColor3       = Color3.fromRGB(0, 163, 203)

-- M4A1 (pc) Button Function
M4A1PC.Parent           = Tab1Frame  
M4A1PC.Size             = UDim2.new(0, 200, 0, 50)
M4A1PC.Position         = UDim2.new(0, 0, 0, 0)  
M4A1PC.Backgroundcolor  = Color3.fromRGB(20, 20, 20)
M4A1PC.TextColor3       = Color3.fromRGB(0, 163, 203)
M4A1PC.BorderSizePixel  = 0
M4A1PC.Visible          = true

-- M4A1 Button Function (pc)
M4A1PC.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ScriptCreater/Asylum-Life/refs/heads/main/Functions/M4A1%20(pc)"))()
end)

--Inmate Esp Button
InmateEsp.Parent           = Tab2Frame  
InmateEsp.Size             = UDim2.new(0, 200, 0, 50)
InmateEsp.Position         = UDim2.new(0, 0, 0, 0)  
InmateEsp.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
InmateEsp.Text             = "Show Danger c:"
InmateEsp.TextColor3       = Color3.fromRGB(0, 163, 203)
InmateEsp.BorderSizePixel  = 0
InmateEsp.Visible          = true

-- Inmate Button Function
InmateEsp.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ScriptCreater/Asylum-Life/refs/heads/main/Functions/Inmates"))()
end)

-- m9 Button Mobile
m9Mobile.Parent           = Tab1Frame  
m9Mobile.Size             = UDim2.new(0, 200, 0, 50)
m9Mobile.Position         = UDim2.new(0, 200, 0, 0)  
m9Mobile.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
m9Mobile.Text             = "M9 (mobile)"
m9Mobile.TextColor3       = Color3.fromRGB(0, 163, 203)
m9Mobile.BorderSizePixel  = 0
m9Mobile.Visible          = true

-- m9 Button Function
m9Mobile.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ScriptCreater/Asylum-Life/refs/heads/main/Functions/m9%20(mobile)"))()
end)

-- Lock On Button
LockOn.Parent           = Tab2Frame  
LockOn.Size             = UDim2.new(0, 200, 0, 50)
LockOn.Position         = UDim2.new(0, 200, 0, 0)  
LockOn.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
LockOn.Text             = "Lock On (pc)"
LockOn.TextColor3       = Color3.fromRGB(0, 163, 203)
LockOn.BorderSizePixel  = 0
LockOn.Visible          = true

-- Lock On Button Function
LockOn.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ScriptCreater/aimbot/refs/heads/main/aimmbot.lua"))()
end)

-- Add m9PC button and function

-- Close Gui Button
CloseGui.Parent           = Frame
CloseGui.Size             = UDim2.new(0, 25, 0, 25)
CloseGui.Position         = UDim2.new(1, -25, 0, 0)
CloseGui.Text             = "X"
CloseGui.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
CloseGui.TextColor3       = Color3.fromRGB(0, 163, 203)
CloseGui.BorderSizePixel  = 0

-- Close button Function
CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()  -- Close the GUI when the button is clicked
end)

-- Minimize Button
MinimizeGui.Parent           = Frame
MinimizeGui.Size             = UDim2.new(0, 25, 0, 25)
MinimizeGui.Position         = UDim2.new(1, -50, 0, 0)
MinimizeGui.Text             = "-"
MinimizeGui.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
MinimizeGui.TextColor3       = Color3.fromRGB(0, 163, 203)
MinimizeGui.BorderSizePixel  = 0

-- Minimize Gui Function
MinimizeGui.MouseButton1Click:Connect(function()
    if isMinimized then
        Frame.Size         = UDim2.new(0, 400, 0, 300)  -- Restore original size
        TextButton.Visible = true
        isMinimized        = false
    else
        Frame.Size         = UDim2.new(0, 400, 0, 40)  -- Minimize to small height
        TextButton.Visible = false
        isMinimized        = true
    end
end)

-- Guns Tab
Tab1Button.Parent           = Frame
Tab1Button.Size             = UDim2.new(.5, 0, 0, 30)
Tab1Button.Position         = UDim2.new(0, 0, 0, 26)
Tab1Button.Text             = "Silent Aim Guns (more soon...)"
Tab1Button.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Tab1Button.TextColor3       = Color3.fromRGB(0, 163, 203)
Tab1Button.BorderSizePixel  = 0

-- Other Tab
Tab2Button.Parent           = Frame
Tab2Button.Size             = UDim2.new(0.5, 0, 0, 30)
Tab2Button.Position         = UDim2.new(.5, 0, 0, 26)
Tab2Button.Text             = "Others"
Tab2Button.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Tab2Button.TextColor3       = Color3.fromRGB(0, 163, 203)
Tab2Button.BorderSizePixel  = 0

-- Tab 1
Tab1Frame.Parent           = Frame
Tab1Frame.Size             = UDim2.new(1, 0, 0, 245)
Tab1Frame.Position         = UDim2.new(0, 0, 0, 58)
Tab1Frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Tab1Frame.Visible          = true

-- Tab 2
Tab2Frame.Parent           = Frame
Tab2Frame.Size             = UDim2.new(1, 0, 0, 245)
Tab2Frame.Position         = UDim2.new(0, 0, 0, 58)
Tab2Frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Tab2Frame.Visible          = false

-- Tab Switching Functionality
local function switchTab(tabNumber)
    if tabNumber == 1 then
        Tab1Frame.Visible = true
        Tab2Frame.Visible = false
    elseif tabNumber == 2 then
        Tab1Frame.Visible = false
        Tab2Frame.Visible = true
    end
end

-- Connect Tab Buttons
Tab1Button.MouseButton1Click:Connect(function()
    switchTab(1)
end)

Tab2Button.MouseButton1Click:Connect(function()
    switchTab(2)
end)
